"""
№112391. Среднее арифметическое
Найти среднее арифметическое целых чисел, записанных в файле input.txt в столбик. 
Количество чисел неизвестно. Результат записать в файл output.txt .

Входные данные
Целые числа записаны в файле input.txt в столбик, по одному в строке. 
Ввод заканчивается тогда, когда заканчиваются данные в файле.

Выходные данные
Программа должна вывести в файл output.txt среднее арифметическое всех чисел в файле, 
отформатированное до трех знаков после запятой.

Примеры
Входные данные (файл input.txt):
1
2
3
Выходные данные (файл output.txt):
2.000
"""

total_sum = 0  # сумма всех чисел
count = 0      # количество чисел

with open("input_avg.txt", "r") as infile:  # открытие файла для чтения
    for line in infile:  # чтение файла построчно
        try:
            num = int(line.strip())  # убирает пробелы и преобразует строку в целое число
            total_sum += num  # добавляет к сумме
            count += 1       # увеличивает счетчик
        except ValueError:
            # Пропуск строк, где не целое число
            continue

# Вычисление среднего арифметического
if count > 0:
    average = total_sum / count
    result = f"{average:.3f}"  # Форматирование до трех знаков после запятой
else:
    result = "0.000"

with open("output_avg.txt", "w") as outfile:  # открытие файла для записи
    outfile.write(result)
